{"mappings":"AEAO,IAAM,EAAW,MAAM,EAAO,IAC1B,MAAM,MAAM,CAAC,mEAAmE,EAAE,EAAM,iBAAiB,EAAE,EAAS,uCAAuC,CAAC,EAC9J,IAAI,CAAC,AAAA,GAAO,EAAI,IAAI,IACpB,IAAI,CAAC,AAAA,GAAO,EAAI,IAAI,EDDvB,EAAU,SAAS,aAAa,CAAC,YACjC,EAAc,SAAS,cAAc,CAAC,gBACtC,EAAW,SAAS,cAAc,CAAC,aAEzC,aAAa,OAAO,CAAC,WAAY,IACjC,IAAI,EAAW,aAAa,OAAO,CAAC,YAChC,EAAQ,GACN,EAAkB,CAAC,EAAO,KAC5B,EAAQ,SAAS,CAAG,GACb,AAAA,EAAS,EAAO,GAAU,IAAI,CAAC,AAAA,IAClC,IAAM,EAAS,EAAI,GAAG,CAAC,AAAA,GACvB,CAAC;A;AAEiB,0BAAA,EAAE,EAAM,aAAa,CAAC;A;A;AAGE,kDAAA,EAAE,EAAM,KAAK,CAAC;A;A;AAGd,kDAAA,EAAE,EAAM,KAAK,CAAC;A;A;AAGd,kDAAA,EAAE,EAAM,QAAQ,CAAC;A;A;AAGjB,kDAAA,EAAE,EAAM,SAAS,CAAC;A;A;A;AAIvD,aAAA,CAAC,EACJ,IAAI,CAAC,IACP,EAAQ,kBAAkB,CAAC,YAAa,EAC5C,IAUJ,EAAY,gBAAgB,CAAC,QAAS,EAAE,QAAQ,CARvB,AAAC,IACtB,EAAE,cAAc,GAEZ,AAAiB,IAAjB,AADJ,CAAA,EAAQ,EAAE,MAAM,CAAC,KAAK,AAAL,EACP,MAAM,EACZ,CAAA,EAAQ,SAAS,CAAG,EADxB,EAGA,EAAgB,EAAO,EAC3B,EACmE,MAEnE,EAAS,gBAAgB,CAAC,QAAS,AAAA,IAC/B,EAAE,cAAc,GAChB,EAAW,OAAO,GAAY,GAC9B,aAAa,OAAO,CAAC,WAAY,GACjC,EAAgB,EAAO,GAAU,IAAI,CAAC,KAClC,WAAW,KACP,IAAM,EAAY,EAAQ,gBAAgB,AACtC,CAAA,GACA,EAAU,cAAc,CAAC,CACrB,SAAU,SACV,MAAO,KACX,EAER,EAAG,IACP,EACJ","sources":["<anon>","src/index.js","src/api/fetchApi.js"],"sourcesContent":["const $aa4cda01af5e074f$export$adb4bb4243526aef = async (value, per_page)=>{\n    return await fetch(`https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${value}&page=1&per_page=${per_page}&key=53972263-c9e9823441f8f52f69cf141bb`).then((res)=>res.json()).then((res)=>res.hits);\n};\n\n\nconst $35da740d59af89ba$var$gallery = document.querySelector(\".gallery\");\nconst $35da740d59af89ba$var$searchInput = document.getElementById(\"search-input\");\nconst $35da740d59af89ba$var$loadMore = document.getElementById(\"load-more\");\nlocalStorage.setItem(\"per_page\", 12);\nlet $35da740d59af89ba$var$per_page = localStorage.getItem(\"per_page\");\nlet $35da740d59af89ba$var$value = \"\";\nconst $35da740d59af89ba$var$getImageFromApi = (value, per_page)=>{\n    $35da740d59af89ba$var$gallery.innerHTML = \"\";\n    return (0, $aa4cda01af5e074f$export$adb4bb4243526aef)(value, per_page).then((res)=>{\n        const layout = res.map((image)=>`<li class=\"photo-item\">\n            <div class=\"photo-card\">\n                <img src=\"${image.largeImageURL}\" alt=\"\" />\n                <div class=\"stats\">\n                    <p class=\"stats-item\">\n                        <i class=\"material-icons\">${image.likes}</i>\n                    </p>\n                    <p class=\"stats-item\">\n                        <i class=\"material-icons\">${image.views}</i>\n                    </p>\n                    <p class=\"stats-item\">\n                        <i class=\"material-icons\">${image.comments}</i>\n                    </p>\n                    <p class=\"stats-item\">\n                        <i class=\"material-icons\">${image.downloads}</i>\n                    </p>\n                </div>\n            </div>\n        </li>`).join('');\n        $35da740d59af89ba$var$gallery.insertAdjacentHTML(\"beforeend\", layout);\n    });\n};\nconst $35da740d59af89ba$var$searchInputDelay = (e)=>{\n    e.preventDefault();\n    $35da740d59af89ba$var$value = e.target.value;\n    if ($35da740d59af89ba$var$value.length === 0) $35da740d59af89ba$var$gallery.innerHTML = \"\";\n    $35da740d59af89ba$var$getImageFromApi($35da740d59af89ba$var$value, $35da740d59af89ba$var$per_page);\n};\n$35da740d59af89ba$var$searchInput.addEventListener(\"input\", _.debounce($35da740d59af89ba$var$searchInputDelay, 500));\n$35da740d59af89ba$var$loadMore.addEventListener(\"click\", (e)=>{\n    e.preventDefault();\n    $35da740d59af89ba$var$per_page = Number($35da740d59af89ba$var$per_page) + 12;\n    localStorage.setItem(\"per_page\", $35da740d59af89ba$var$per_page);\n    $35da740d59af89ba$var$getImageFromApi($35da740d59af89ba$var$value, $35da740d59af89ba$var$per_page).then(()=>{\n        setTimeout(()=>{\n            const lastImage = $35da740d59af89ba$var$gallery.lastElementChild;\n            if (lastImage) lastImage.scrollIntoView({\n                behavior: \"smooth\",\n                block: \"end\"\n            });\n        }, 1000);\n    });\n});\n\n\n//# sourceMappingURL=project-four-async.69e584f8.js.map\n","import { fetchApi } from \"./api/fetchApi\";\n\nconst gallery = document.querySelector(\".gallery\");\nconst searchInput = document.getElementById(\"search-input\");\nconst loadMore = document.getElementById(\"load-more\");\n\nlocalStorage.setItem(\"per_page\", 12);\nlet per_page = localStorage.getItem(\"per_page\");\nlet value = \"\"\nconst getImageFromApi = (value, per_page) => {\n    gallery.innerHTML = \"\"\n    return fetchApi(value, per_page).then(res => {\n        const layout = res.map(image =>\n        `<li class=\"photo-item\">\n            <div class=\"photo-card\">\n                <img src=\"${image.largeImageURL}\" alt=\"\" />\n                <div class=\"stats\">\n                    <p class=\"stats-item\">\n                        <i class=\"material-icons\">${image.likes}</i>\n                    </p>\n                    <p class=\"stats-item\">\n                        <i class=\"material-icons\">${image.views}</i>\n                    </p>\n                    <p class=\"stats-item\">\n                        <i class=\"material-icons\">${image.comments}</i>\n                    </p>\n                    <p class=\"stats-item\">\n                        <i class=\"material-icons\">${image.downloads}</i>\n                    </p>\n                </div>\n            </div>\n        </li>`\n        ).join('');\n        gallery.insertAdjacentHTML(\"beforeend\", layout);\n    });\n}\nconst searchInputDelay = (e) => {\n    e.preventDefault();\n    value = e.target.value;\n    if (value.length === 0) {\n        gallery.innerHTML = \"\"\n    }\n    getImageFromApi(value, per_page);\n};\nsearchInput.addEventListener(\"input\", _.debounce(searchInputDelay, 500));\n\nloadMore.addEventListener(\"click\", e => {\n    e.preventDefault();\n    per_page = Number(per_page) + 12;\n    localStorage.setItem(\"per_page\", per_page);\n    getImageFromApi(value, per_page).then(() => {\n        setTimeout(() => {\n            const lastImage = gallery.lastElementChild;\n            if (lastImage) {\n                lastImage.scrollIntoView({\n                    behavior: \"smooth\",\n                    block: \"end\"\n                })\n            }\n        }, 1000);\n    })\n});\n","export const fetchApi = async(value, per_page) => {\n    return await fetch(`https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${value}&page=1&per_page=${per_page}&key=53972263-c9e9823441f8f52f69cf141bb`)\n        .then(res => res.json())\n        .then(res => res.hits)\n};"],"names":["$aa4cda01af5e074f$export$adb4bb4243526aef","value","per_page","fetch","then","res","json","hits","$35da740d59af89ba$var$gallery","document","querySelector","$35da740d59af89ba$var$searchInput","getElementById","$35da740d59af89ba$var$loadMore","localStorage","setItem","$35da740d59af89ba$var$per_page","getItem","$35da740d59af89ba$var$value","$35da740d59af89ba$var$getImageFromApi","innerHTML","layout","map","image","largeImageURL","likes","views","comments","downloads","join","insertAdjacentHTML","addEventListener","_","debounce","e","preventDefault","target","length","Number","setTimeout","lastImage","lastElementChild","scrollIntoView","behavior","block"],"version":3,"file":"project-four-async.69e584f8.js.map"}